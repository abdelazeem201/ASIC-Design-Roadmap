LEF Layer to Technology File Layer Mapper
This Perl script processes a technology file (.tf) and a Library Exchange Format (LEF) file to generate a mapping between the layers defined in these files.

# Overview

The script reads through the specified technology and LEF files, extracts layer information, and generates two output files:

A log file documenting the processing steps and any issues encountered.
A mapping file that correlates the layers in the LEF file with their corresponding layers in the technology file.

# Features

Automatic Layer Mapping: The script identifies and maps layers between the LEF and technology files based on predefined rules.
Logging: Detailed logging of the processing steps, aiding in troubleshooting and validation.
Configurable via Command Line Arguments: The input files are specified via command line arguments, allowing flexibility in usage.

# Usage

Command Line

````````````````````````````````````````````````
perl lef_layer_tf_number_map.pl Tech_file_name.tf Lef_file_name.lef
````````````````````````````````````````````````

* Tech_file_name.tf: The technology file containing layer definitions.
* Lef_file_name.lef: The LEF file containing layer definitions.

Output Files

* Lef_file_name_lef_Tech_file_name_tf.map: A file containing the mapping between LEF layers and technology file layers.
* Lef_file_name_lef_Tech_file_name_tf.log: A log file containing detailed logs of the processing steps.

# Script Explanation
## Argument Handling

The script expects two arguments: the technology file and the LEF file. If the correct number of arguments is not provided, it displays a usage message and exits.

## File Opening
The script opens the technology file, LEF file, and two output files: one for logging and one for the mapping.

## Processing the Technology File
The script processes the technology file to extract layer information:

Identifies layers, their numbers, and mask names.
Stores the extracted information in hashes for later use.
Processing the LEF File
The script processes the LEF file to extract layer information and derive mask names based on the layer types:

Uses predefined rules to derive mask names for various layer types.
Maps these derived mask names to the corresponding layer numbers from the technology file.
Generating the Mapping File
The script generates the mapping file by printing the layer names and their corresponding numbers from both the LEF and technology files.

## Logging and Helper Subroutines
The script includes helper subroutines for logging and printing the map file.

## Example
To run the script with example files:
``````````````````````````````````````````````
perl lef_layer_tf_number_map.pl example_tech.tf example_lef.lef
``````````````````````````````````````````````
This will generate example_lef_lef_example_tech_tf.map and example_lef_lef_example_tech_tf.log.

# LEF2FRAM

1. **1. Preparing the Map File**

Use the `lef_layer_tf_number_mapper.pl` script provided in the compressed package, and modify the first line to:

``````````````````````````
#!/usr/bin/perl -w
``````````````````````````

Change the file attributes to make it executable:

``````````````````````````````````````
chmod 755 lef_layer_tf_number_mapper.pl
```````````````````````````````````````

Prepare the technology file and the TECH LEF file. Note that the LEF file should be the process LEF file, not the LEF file generated by SRAM:

* `scc013u_8lm_1tm_thick.lef
* `smic13_hd_8lm_1tm_thick.tf

Tip: From my observation, in the given SMIC13 standard cell library, the process file and TECH LEF file are the same across various cell libraries. Therefore, you can select the one under RVT. However, the process file and TECH LEF file themselves are divided into two types: with RDL and without RDL. I used the `diff` command to check and found that it seems to add an RDL layer.

Place the above three files in the same directory, cd into that directory, and execute the following command:

```````````````````````````````````````````````````````````````````````````````````
./lef_layer_tf_number_mapper.pl smic13_hd_8lm_1tm_thick.tf scc013u_8lm_1tm_thick.lef
````````````````````````````````````````````````````````````````````````````````````

This will generate the map file from LEF to Milkyway.


2. **Automatically Create LEF to Milkyway Frame View**

In the current directory, create a `mw` directory and copy the `.lef`, `.tf`, and `.map` files mentioned above into this directory. Create a new `cell_lef` directory and copy the cell LEF files of the macros to be converted into this directory. Then, `cd` into the `mw` directory and open a terminal.

# To start the Milkyway tool, please follow these steps:

Open a terminal.

Enter the full path to the Milkyway executable file. For example:


``````````````````````````````````````````````````````````
/eda/Synopsys/mw_2018.06/bin/linux64/Milkyway

milkway
```````````````````````````````````````````````````````````
Replace `/eda/Synopsys/mw_2018.06/bin/linux64/Milkyway` with the actual full path to the Milkyway executable file on your system.

1. Press Enter to execute the command.

2. This should launch the Milkyway tool.


